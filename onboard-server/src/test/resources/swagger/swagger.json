{"openapi":"3.0.1","info":{"title":"Onboard API","description":"Description...","version":"1.0"},"servers":[{"url":"http://localhost","description":"Generated server url"}],"paths":{"/{serviceProviderName}/subscriptions":{"get":{"tags":["Subscription"],"summary":"List subscriptions","operationId":"listSubscriptions","parameters":[{"name":"serviceProviderName","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"example":{"name":"serviceprovider1","version":"1.0","subscriptions":[{"id":"1","path":"/serviceprovider1/subscriptions/1","selector":"originatingCountry = 'NO' and messageType = 'DENM'","consumerCommonName":"serviceprovider1","status":"CREATED"},{"id":"2","path":"/serviceprovider1/subscriptions/2","selector":"originatingCountry = 'SE' and messageType = 'DENM'","consumerCommonName":"serviceprovider1","status":"CREATED"}]}}}}}},"post":{"tags":["Subscription"],"summary":"Add subscriptions","operationId":"addSubscriptions","parameters":[{"name":"serviceProviderName","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddSubscriptionsRequest"},"example":{"name":"serviceprovider1","version":"1.0","subscriptions":[{"selector":"originatingCountry = 'SE' and messageType = 'DENM'"},{"selector":"originatingCountry = 'NO' and messageType = 'DENM'"}]}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"example":{"version":"1.0","name":"serviceprovider1","subscriptions":[{"id":"2","path":"/serviceprovider1/subscriptions/2","selector":"originatingCountry = 'SE' and messageType = 'DENM'","consumerCommonName":"serviceprovider1","status":"REQUESTED"},{"id":"1","path":"/serviceprovider1/subscriptions/1","selector":"originatingCountry = 'NO' and messageType = 'DENM'","consumerCommonName":"serviceprovider1","status":"REQUESTED"}]}}}}}}},"/{serviceProviderName}/privatechannels":{"get":{"tags":["Private Channel"],"summary":"List private channels","operationId":"getPrivateChannels","parameters":[{"name":"serviceProviderName","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"example":{"version":"1.0","name":"serviceprovider-1","privateChannels":[{"id":2,"peerName":"serviceprovider-2","status":"CREATED"}]}}}}}},"post":{"tags":["Private Channel"],"summary":"Add private channels","operationId":"addPrivateChannel","parameters":[{"name":"serviceProviderName","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddPrivateChannelRequest"},"example":{"version":"string","name":"string","privateChannels":[{"peerName":"string"}]}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"example":{"version":"1.0","name":"serviceprovider-1","privateChannels":[{"id":52,"peerName":"serviceprovider-2","status":"REQUESTED"},{"id":53,"peerName":"serviceprovider-3","status":"REQUESTED"}]}}}}}}},"/{serviceProviderName}/deliveries":{"get":{"tags":["Delivery"],"summary":"List deliveries","operationId":"listDeliveries","parameters":[{"name":"serviceProviderName","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"example":{"version":"1.0","name":"sp-1","deliveries":[{"id":"1","path":"/sp-1/deliveries/1","selector":"originatingCountry = 'NO' and messageType = 'DENM'","lastUpdatedTimestamp":1684846428079,"status":"CREATED"}]}}}}}},"post":{"tags":["Delivery"],"summary":"Add deliveries","operationId":"addDeliveries","parameters":[{"name":"serviceProviderName","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddDeliveriesRequest"},"example":{"version":"1.0","name":"sp-1","deliveries":[{"selector":"originatingCountry = 'NO' and messageType = 'DENM'"}]}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"example":{"version":"1.0","name":"sp-1","deliveries":[{"id":"1","path":"/sp-1/deliveries/1","selector":"originatingCountry = 'NO' and messageType = 'DENM'","lastUpdatedTimestamp":1684934126952,"status":"REQUESTED"}]}}}}}}},"/{serviceProviderName}/capabilities":{"get":{"tags":["Capability"],"summary":"List capabilities","operationId":"listCapabilities","parameters":[{"name":"serviceProviderName","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"example":{"name":"sp-1","capabilities":[{"id":"1","path":"/spi-1/capabilities/1","definition":{"application":{"messageType":"DENM","publisherId":"NPRA","publicationId":"pub-1","originatingCountry":"NO","protocolVersion":"1.0","quadTree":["1234"],"causeCodes":[6]},"metadata":{}}}]}}}}}},"post":{"tags":["Capability"],"summary":"Add capabilities","operationId":"addCapabilities","parameters":[{"name":"serviceProviderName","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddCapabilitiesRequest"},"example":{"name":"sp-1","version":"1.0","capabilities":[{"application":{"messageType":"DENM","publisherId":"NPRA","publicationId":"pub-1","originatingCountry":"NO","protocolVersion":"1.0","quadTree":["1234"],"causeCodes":[6]},"metadata":{}}]}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"example":{"name":"sp-1","capabilities":[{"id":"1","path":"/sp-1/capabilities/1","definition":{"application":{"messageType":"DENM","publisherId":"NPRA","publicationId":"pub-1","originatingCountry":"NO","protocolVersion":"1.0","quadTree":["1234"],"causeCodes":[6]},"metadata":{}}}]}}}}}}},"/{serviceProviderName}/subscriptions/{subscriptionId}":{"get":{"tags":["Subscription"],"summary":"Get subscription","operationId":"getServiceProviderSubscription","parameters":[{"name":"serviceProviderName","in":"path","required":true,"schema":{"type":"string"}},{"name":"subscriptionId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"example":{"id":"1","path":"/serviceprovider1/subscriptions/1","selector":"originatingCountry = 'NO' and messageType = 'DENM'","consumerCommonName":"serviceprovider1","lastUpdatedTimestamp":1684846131664,"status":"CREATED","endpoints":[{"host":"amqps://myserver","port":5671,"source":"serviceprovider-1","maxBandwidth":0,"maxMessageRate":0}]}}}}}}},"/{serviceProviderName}/privatechannels/{privateChannelId}":{"get":{"tags":["Private Channel"],"summary":"Get private channel","operationId":"getPrivateChannel","parameters":[{"name":"serviceProviderName","in":"path","required":true,"schema":{"type":"string"}},{"name":"privateChannelId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"example":{"id":52,"peerName":"serviceprovider-2","serviceProviderName":"serviceprovider-1","status":"CREATED","endpoint":{"host":"example.stminterchange.com","port":5671,"queueName":"priv-bf71c182-dfd8-4543-a644-4dddd36751bd"}}}}}}},"delete":{"tags":["Private Channel"],"summary":"Delete private channel","operationId":"deletePrivateChannel","parameters":[{"name":"serviceProviderName","in":"path","required":true,"schema":{"type":"string"}},{"name":"privateChannelId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"No Content"}}}},"/{serviceProviderName}/privatechannels/peer":{"get":{"tags":["Private Channel"],"summary":"List private channels with service provider as peer","operationId":"getPeerPrivateChannels","parameters":[{"name":"serviceProviderName","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"example":{"version":"1.0","name":"serviceprovider-1","privateChannels":[{"id":2,"peerName":"serviceprovider-2","status":"CREATED"}]}}}}}}},"/{serviceProviderName}/network/capabilities":{"get":{"tags":["Capability"],"summary":"List matching capabilities","operationId":"fetchMatchingCapabilities","parameters":[{"name":"serviceProviderName","in":"path","required":true,"schema":{"type":"string"}},{"name":"arg1","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"example":{"name":"sp-1","capabilities":[{"id":"1","path":"/spi-1/capabilities/1","definition":{"application":{"messageType":"DENM","publisherId":"NPRA","publicationId":"pub-1","originatingCountry":"NO","protocolVersion":"1.0","quadTree":["1234"],"causeCodes":[6]},"metadata":{}}}]}}}}}}},"/{serviceProviderName}/deliveries/{deliveryId}":{"get":{"tags":["Delivery"],"summary":"Get delivery","operationId":"getDelivery","parameters":[{"name":"serviceProviderName","in":"path","required":true,"schema":{"type":"string"}},{"name":"deliveryId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"example":{"id":"1","endpoints":[{"host":"amqps://sp-1","port":5671,"target":"sp1-1","maxBandwidth":0,"maxMessageRate":0}],"path":"/sp-1/deliveries/1","selector":"originatingCountry = 'NO' and messageType = 'DENM'","lastUpdatedTimestamp":1684934230041,"status":"CREATED"}}}}}},"delete":{"tags":["Delivery"],"summary":"Delete delivery","operationId":"deleteDelivery","parameters":[{"name":"serviceProviderName","in":"path","required":true,"schema":{"type":"string"}},{"name":"deliveryId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"No Content"}}}},"/{serviceProviderName}/capabilities/{capabilityId}":{"get":{"tags":["Capability"],"summary":"Get capability","operationId":"getServiceProviderCapability","parameters":[{"name":"serviceProviderName","in":"path","required":true,"schema":{"type":"string"}},{"name":"capabilityId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetCapabilityResponse"}}}}}},"delete":{"tags":["Capability"],"summary":"Delete capability","operationId":"deleteCapability","parameters":[{"name":"serviceProviderName","in":"path","required":true,"schema":{"type":"string"}},{"name":"capabilityId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"No Content"}}}},"/{serviceProviderName}/subscriptions/{dataTypeId}":{"delete":{"tags":["Subscription"],"summary":"Delete subscription","operationId":"deleteSubscription","parameters":[{"name":"serviceProviderName","in":"path","required":true,"schema":{"type":"string"}},{"name":"dataTypeId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"No Content"}}}}},"components":{"schemas":{"AddSubscription":{"type":"object","properties":{"selector":{"type":"string"},"consumerCommonName":{"type":"string"}}},"AddSubscriptionsRequest":{"type":"object","properties":{"name":{"type":"string"},"version":{"type":"string"},"subscriptions":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/AddSubscription"}}}},"AddPrivateChannelRequest":{"type":"object","properties":{"version":{"type":"string"},"name":{"type":"string"},"privateChannels":{"type":"array","items":{"$ref":"#/components/schemas/PrivateChannelApi"}}}},"PrivateChannelApi":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"peerName":{"type":"string"},"status":{"type":"string","enum":["REQUESTED","CREATED","TEAR_DOWN"]},"endpoint":{"$ref":"#/components/schemas/PrivateChannelEndpointApi"}}},"PrivateChannelEndpointApi":{"type":"object","properties":{"host":{"type":"string"},"port":{"type":"integer","format":"int32"},"queueName":{"type":"string"}}},"AddDeliveriesRequest":{"type":"object","properties":{"version":{"type":"string"},"name":{"type":"string"},"deliveries":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/SelectorApi"}}}},"SelectorApi":{"type":"object","properties":{"selector":{"type":"string"}}},"AddCapabilitiesRequest":{"type":"object","properties":{"name":{"type":"string"},"version":{"type":"string"},"capabilities":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/CapabilitySplitApi"}}}},"ApplicationApi":{"type":"object","properties":{"messageType":{"type":"string"},"publisherId":{"type":"string"},"publicationId":{"type":"string"},"originatingCountry":{"type":"string"},"protocolVersion":{"type":"string"},"quadTree":{"uniqueItems":true,"type":"array","items":{"type":"string"}}},"discriminator":{"propertyName":"messageType"}},"CamApplicationApi":{"type":"object","allOf":[{"$ref":"#/components/schemas/ApplicationApi"}]},"CapabilitySplitApi":{"type":"object","properties":{"application":{"oneOf":[{"$ref":"#/components/schemas/ApplicationApi"},{"$ref":"#/components/schemas/CamApplicationApi"},{"$ref":"#/components/schemas/DatexApplicationApi"},{"$ref":"#/components/schemas/DenmApplicationApi"},{"$ref":"#/components/schemas/IvimApplicationApi"},{"$ref":"#/components/schemas/MapemApplicationApi"},{"$ref":"#/components/schemas/SpatemApplicationApi"},{"$ref":"#/components/schemas/SremApplicationApi"},{"$ref":"#/components/schemas/SsemApplicationApi"}]},"metadata":{"$ref":"#/components/schemas/MetadataApi"}}},"DatexApplicationApi":{"type":"object","allOf":[{"$ref":"#/components/schemas/ApplicationApi"},{"type":"object","properties":{"publicationType":{"type":"string"}}}]},"DenmApplicationApi":{"type":"object","allOf":[{"$ref":"#/components/schemas/ApplicationApi"},{"type":"object","properties":{"causeCodes":{"uniqueItems":true,"type":"array","items":{"type":"integer","format":"int32"}},"causeCode":{"uniqueItems":true,"type":"array","writeOnly":true,"items":{"type":"integer","format":"int32"}}}}]},"IvimApplicationApi":{"type":"object","allOf":[{"$ref":"#/components/schemas/ApplicationApi"}]},"MapemApplicationApi":{"type":"object","allOf":[{"$ref":"#/components/schemas/ApplicationApi"}]},"MetadataApi":{"type":"object","properties":{"shardCount":{"type":"integer","format":"int32"},"infoUrl":{"type":"string"},"redirectPolicy":{"type":"string","enum":["OPTIONAL","MANDATORY","NOT_AVAILABLE"]},"maxBandwidth":{"type":"integer","format":"int32"},"maxMessageRate":{"type":"integer","format":"int32"},"repetitionInterval":{"type":"integer","format":"int32"}}},"SpatemApplicationApi":{"type":"object","allOf":[{"$ref":"#/components/schemas/ApplicationApi"}]},"SremApplicationApi":{"type":"object","allOf":[{"$ref":"#/components/schemas/ApplicationApi"}]},"SsemApplicationApi":{"type":"object","allOf":[{"$ref":"#/components/schemas/ApplicationApi"}]},"GetCapabilityResponse":{"type":"object","properties":{"id":{"type":"string"},"path":{"type":"string"},"definition":{"$ref":"#/components/schemas/CapabilitySplitApi"}}}}}}